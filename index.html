<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>Get Forex Alerts</title>

  <!-- Feather icons CDN -->
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- Core styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app" class="layout">

    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Sidebar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <aside id="sidebar" class="sidebar">
      <button id="hamburger" class="hamburger" aria-label="Toggle menu">
        <i data-feather="menu"></i>
      </button>

      <div class="profile-block">
        <div class="avatar"><i data-feather="user"></i></div>
        <p class="name">Trader Profile</p>
        <p class="email">user@ai.forex</p>
      </div>

      <nav class="side-nav">
        <button data-target="rates"><i data-feather="smartphone"></i><span>Forex Rates</span></button>
        <button data-target="macro"><i data-feather="trending-up"></i><span>Macro Events</span></button>
        <button data-target="ai"><i data-feather="cpu"></i><span>Trade Simulator</span></button>
        <button data-target="custom"><i data-feather="settings"></i><span>Settings</span></button>
      </nav>
    </aside>

    <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Main Pane â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
    <main class="main">

      <header class="hero">
        <h1>Forex Trade<br class="m-break"> Explorer</h1>
        <p>Track key metrics &amp; real-time AI-driven trade strategies</p>
      </header>

      <!-- FX Rates -->
            <section id="rates" class="rates-grid">
              <div class="rate-card">
                <h3>EUR/USD</h3>
                <p class="rate-line">Rate: <span id="eurusdVal">--</span></p>
              </div>
              <div class="rate-card">
                <h3>USD/JPY</h3>
                <p class="rate-line red">Rate: <span id="usdjpyVal">--</span></p>
              </div>
              <div class="rate-card wide">
                <h3>GBP/USD</h3>
                <p class="rate-line green">Rate: <span id="gbpusdVal">--</span></p>
              </div>
            </section>
      <!-- Macro Table -->
      <section id="macro" class="macro">
        <h2>Macro Events &amp; Metrics</h2>
        <table>
          <thead>
            <tr><th>Pair</th><th>Vol.</th><th>Rate Diff</th><th>Event</th></tr>
          </thead>
          <tbody>
            <tr><td>EUR/USD</td><td>8.2 %</td><td class="down">-0.75 %</td><td>ECB Rate Decision</td></tr>
            <tr><td>USD/JPY</td><td>7.8 %</td><td class="up">+2.1 %</td><td>BoJ Press Conf.</td></tr>
            <tr><td>GBP/USD</td><td>5.9 %</td><td class="down">-0.25 %</td><td>UK Inflation Data</td></tr>
          </tbody>
        </table>
      </section>

      <!-- Placeholder Panels -->
      <section id="ai" class="trade-sim">
  <div class="trade-sim-header">
    <h2>Trade Simulator</h2>
    <label class="toggle">
      <input type="checkbox" id="aiToggle" />
      <span class="slider"></span>
      <span class="label-text">ai assist </span>
    </label>
  </div>

  <form id="simForm" class="sim-form">
    <label>Currency Pair:
      <select id="pair">
        <option>EUR/USD</option>
        <option>USD/JPY</option>
        <option>GBP/USD</option>
      </select>
    </label>
    <label>Trade Size (Units):
      <input type="number" id="size" placeholder="e.g. 10,000" required />
    </label>
    <label>Entry Price:
      <input type="number" id="entry" step="0.0001" required />
    </label>
    <label>Exit Price:
      <input type="number" id="exit" step="0.0001" required />
    </label>
    <button type="submit">Simulate Trade</button>
  </form>

  <div id="simResult" class="sim-result">Results will appear here.</div>
</section>
    <!-- SETTINGS -->
<section id="custom" class="settings">
  <h2>Settings</h2>

  <!-- Matrix-style dark-mode toggle -->
  <label class="toggle">
    <input type="checkbox" id="matrixToggle" />
    <span class="slider"></span>
    <span class="label-text">Matrix Theme</span>
  </label>

  <!-- Screen-blur toggle -->
  <label class="toggle">
    <input type="checkbox" id="blurToggle" />
    <span class="slider"></span>
    <span class="label-text">Blur Screen</span>
  </label>
</section>

    </main>

    <!-- Mobile Bottom Bar -->
    <nav class="bottom-bar">
      <button data-target="rates"><i data-feather="smartphone"></i></button>
      <button data-target="macro"><i data-feather="trending-up"></i></button>
      <button data-target="ai"><i data-feather="cpu"></i></button>
    </nav>
  </div>

  <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Scripts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <script>
    feather.replace();                                          // load all icons

    /* â”€ Toggle side-menu on â‰¤767 px â”€ */
    const sidebar   = document.getElementById('sidebar');
    document.getElementById('hamburger').onclick = () =>
      sidebar.classList.toggle('open');

    /* â”€ Smooth scroll + active icon â”€ */
    document.querySelectorAll('[data-target]').forEach(btn=>{
      btn.onclick = () =>{
        document.getElementById(btn.dataset.target)
                ?.scrollIntoView({behavior:'smooth'});
        document.querySelectorAll('.bottom-bar button')
          .forEach(b=>b.classList.toggle('active',b===btn));
        if (innerWidth < 768) sidebar.classList.remove('open');
      };
    });

    /* â”€ Fetch live FX rates once on load â”€ */
    fetch('https://api.exchangerate.host/latest?base=USD')
      .then(r=>r.json()).then(d=>{
        eurUsd.textContent = (1/d.rates.EUR).toFixed(4);
        usdJpy.textContent =  d.rates.JPY.toFixed(2);
        gbpUsd.textContent = (1/d.rates.GBP).toFixed(4);
      }).catch(()=>{                       // fallback
        eurUsd.textContent='1.0843';
        usdJpy.textContent='142.89';
        gbpUsd.textContent='1.2711';
      });

/* --- helper: fetch timeseries & calc indicators --- */
const pairs = [
  { code:'EURUSD', base:'USD', quote:'EUR', invert:true },
  { code:'USDJPY', base:'USD', quote:'JPY', invert:false },
  { code:'GBPUSD', base:'USD', quote:'GBP', invert:true }
];

(async function loadIndicators(){
  const end   = new Date().toISOString().slice(0,10);
  const start = new Date(Date.now()-32*24*3600*1000).toISOString().slice(0,10);

  for(const p of pairs){
    const url = `https://api.exchangerate.host/timeseries?start_date=${start}&end_date=${end}&base=${p.base}&symbols=${p.quote}`;
    const data = await fetch(url).then(r=>r.json()).catch(()=>null);
    if(!data || !data.rates) continue;

    /* build closing-price array (chronological) */
    const closes = Object.entries(data.rates)
      .sort((a,b)=>new Date(a[0])-new Date(b[0]))
      .map(e=>p.invert?1/e[1][p.quote]:e[1][p.quote]);

    const {sma,rsi} = calcIndicators(closes);

    const card = document.querySelector(`[data-pair="${p.code}"]`);
    if(card){
      card.querySelector('.sma span').textContent = sma.toFixed(4);
      card.querySelector('.rsi span').textContent = rsi.toFixed(1);
    }
  }
})();

/* --- simple SMA-20 & RSI-14 calculator --- */
function calcIndicators(arr){
  const len = arr.length;
  const last20 = arr.slice(-20);
  const sma = last20.reduce((a,b)=>a+b,0)/20;

  /* RSI-14 */
  const gains=[], losses=[];
  for(let i=len-15;i<len-1;i++){
    const diff = arr[i+1]-arr[i];
    if(diff>0) gains.push(diff); else losses.push(Math.abs(diff));
  }
  const avgGain = gains.reduce((a,b)=>a+b,0)/14||0.0001;
  const avgLoss = losses.reduce((a,b)=>a+b,0)/14||0.0001;
  const rs  = avgGain/avgLoss;
  const rsi = 100-(100/(1+rs));

  return {sma,rsi};
}

    
    // Simulate trade logic
document.getElementById('simForm').onsubmit = e => {
  e.preventDefault();
  const pair = pairEl.value;
  const size = +sizeEl.value;
  const entry = +entryEl.value;
  const exit = +exitEl.value;
  const aiOn = document.getElementById('aiToggle').checked;

  const pipDiff = (exit - entry) * 10000;
  const pl = (pipDiff * size / 10000).toFixed(2);
  const advice = aiOn ? `ðŸš€ AI suggests trailing stop after +20 pips.` : '';

  simResult.innerHTML = `
    <strong>${pair}</strong><br/>
    P/L: <span style="color:${pl >= 0 ? 'lime' : 'salmon'}">${pl} USD</span><br/>
    ${advice}
  `;
};

const pairEl = document.getElementById('pair');
const sizeEl = document.getElementById('size');
const entryEl = document.getElementById('entry');
const exitEl = document.getElementById('exit');
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Matrix + Blur toggles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
document.getElementById('matrixToggle').onchange = e =>
  document.body.classList.toggle('matrix', e.target.checked);

document.getElementById('blurToggle').onchange = e =>
  document.body.classList.toggle('blurred', e.target.checked);
  </script>
</body>
</html>
