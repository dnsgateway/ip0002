<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>Forex Trade Simulator</title>

  <!-- Feather icons CDN -->
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- Core styles -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app" class="layout">

    <!-- ───────────────── Sidebar ───────────────── -->
    <aside id="sidebar" class="sidebar">
      <button id="hamburger" class="hamburger" aria-label="Toggle menu">
        <i data-feather="menu"></i>
      </button>

      <div class="profile-block">
        <div class="avatar"><i data-feather="user"></i></div>
        <p class="name">Trader Profile</p>
        <p class="email">user@ai.forex</p>
      </div>

      <nav class="side-nav">
        <button data-target="rates"><i data-feather="smartphone"></i><span>Forex Rates</span></button>
        <button data-target="macro"><i data-feather="trending-up"></i><span>Macro Events</span></button>
        <button data-target="ai"><i data-feather="cpu"></i><span>Trade Simulator</span></button>
        <button data-target="custom"><i data-feather="settings"></i><span>Settings</span></button>
      </nav>
    </aside>

    <!-- ───────────────── Main Pane ───────────────── -->
    <main class="main">

      <header class="hero">
        <h1>Forex Trade<br class="m-break"> Explorer</h1>
        <p>Track key metrics &amp; real-time AI-driven trade strategies</p>
      </header>

      <!-- Rate Cards -->
      <section id="rates" class="rates-grid">
        <article class="card">
          <h3>EUR/USD</h3>
          <p class="rate">Rate <span id="eurUsd">--</span></p>
        </article>

        <article class="card red">
          <h3>USD/JPY</h3>
          <p class="rate">Rate <span id="usdJpy">--</span></p>
        </article>

        <article class="card green wide">
          <h3>GBP/USD</h3>
          <p class="rate">Rate <span id="gbpUsd">--</span></p>
        </article>
      </section>

      <!-- Macro Table -->
      <section id="macro" class="macro">
        <h2>Macro Events &amp; Metrics</h2>
        <table>
          <thead>
            <tr><th>Pair</th><th>Vol.</th><th>Rate Diff</th><th>Event</th></tr>
          </thead>
          <tbody>
            <tr><td>EUR/USD</td><td>8.2 %</td><td class="down">-0.75 %</td><td>ECB Rate Decision</td></tr>
            <tr><td>USD/JPY</td><td>7.8 %</td><td class="up">+2.1 %</td><td>BoJ Press Conf.</td></tr>
            <tr><td>GBP/USD</td><td>5.9 %</td><td class="down">-0.25 %</td><td>UK Inflation Data</td></tr>
          </tbody>
        </table>
      </section>

      <!-- Placeholder Panels -->
      <section id="ai"     class="placeholder"><h2>Trade Simulator</h2>
        <form id="simForm">
          <label for="pair">Select Pair</label>
          <select id="pair" name="pair">
            <option>EUR/USD</option>
            <option>USD/JPY</option>
            <option>GBP/USD</option>
          </select>
          <label for="amount">Amount</label>
          <input type="number" id="amount" name="amount" value="10000" />
          <label for="leverage">Leverage</label>
          <input type="number" id="leverage" name="leverage" value="10" />
          <label><input type="checkbox" id="aiAssist" checked /> Enable AI Assist</label>
          <button type="submit">Simulate Trade</button>
        </form>
        <div id="simResult"></div>
      </section>
      <section id="custom" class="placeholder"><h2>Custom Interface</h2></section>

    </main>

    <!-- Mobile Bottom Bar -->
    <nav class="bottom-bar">
      <button data-target="rates"><i data-feather="smartphone"></i></button>
      <button data-target="macro"><i data-feather="trending-up"></i></button>
      <button data-target="ai"><i data-feather="cpu"></i></button>
    </nav>
  </div>

  <!-- ───────────────── Scripts ───────────────── -->
  <script>
    feather.replace();                                          // load all icons

    /* ─ Toggle side-menu on ≤767 px ─ */
    const sidebar   = document.getElementById('sidebar');
    document.getElementById('hamburger').onclick = () =>
      sidebar.classList.toggle('open');

    /* ─ Smooth scroll + active icon ─ */
    document.querySelectorAll('[data-target]').forEach(btn=>{
      btn.onclick = () =>{
        document.getElementById(btn.dataset.target)
                ?.scrollIntoView({behavior:'smooth'});
        document.querySelectorAll('.bottom-bar button')
          .forEach(b=>b.classList.toggle('active',b===btn));
        if (innerWidth < 768) sidebar.classList.remove('open');
      };
    });

    /* ─ Fetch live FX rates once on load ─ */
    fetch('https://api.exchangerate.host/latest?base=USD')
      .then(r=>r.json()).then(d=>{
        eurUsd.textContent = (1/d.rates.EUR).toFixed(4);
        usdJpy.textContent =  d.rates.JPY.toFixed(2);
        gbpUsd.textContent = (1/d.rates.GBP).toFixed(4);
      }).catch(()=>{                       // fallback
        eurUsd.textContent='1.0843';
        usdJpy.textContent='142.89';
        gbpUsd.textContent='1.2711';
      });
  </script>
</body>
</html>
