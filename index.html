<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Get Forex Alerts</title>

  <!-- Feather Icons -->
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- Optional libs ready for future modules -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://s3.tradingview.com/tv.js"></script>

  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div id="app" class="layout">

  <!-- ───────── Sidebar ───────── -->
  <aside id="sidebar" class="sidebar">
    <button id="hamburger" class="hamburger" aria-label="Toggle menu">
      <i data-feather="menu"></i>
    </button>

    <div class="profile-block">
      <div class="avatar"><i data-feather="user"></i></div>
      <p class="name">Trader Profile</p>
      <p class="email">user@ai.forex</p>
    </div>

    <nav class="side-nav">
      <button data-page="rates"><i data-feather="smartphone"></i><span>Rates</span></button>
      <button data-page="charts"><i data-feather="bar-chart-2"></i><span>Live Chart</span></button>
      <button data-page="macro"><i data-feather="trending-up"></i><span>Macro Events</span></button>
      <button data-page="backtester"><i data-feather="repeat"></i><span>Back-tester</span></button>
      <button data-page="portfolio"><i data-feather="folder"></i><span>Portfolio</span></button>
      <button data-page="risk"><i data-feather="alert-triangle"></i><span>Risk Tools</span></button>
      <button data-page="heatmap"><i data-feather="map"></i><span>Heat-map</span></button>
      <button data-page="weekly"><i data-feather="calendar"></i><span>Weekly Outlook</span></button>
      <button data-page="settings"><i data-feather="settings"></i><span>Settings</span></button>
    </nav>
  </aside>

  <!-- ───────── Main ───────── -->
  <main class="main">

    <!-- 💱 RATES (default visible) -->
    <section id="rates" class="page active">
      <header class="hero">
        <h1>Forex Trade Explorer</h1>
        <p>Track key metrics &amp; real-time AI-driven trade strategies</p>
      </header>

      <div class="rates-grid">
        <article class="card"><h3>EUR/USD</h3><p class="rate" id="eurUsd">--</p></article>
        <article class="card red"><h3>USD/JPY</h3><p class="rate" id="usdJpy">--</p></article>
        <article class="card green wide"><h3>GBP/USD</h3><p class="rate" id="gbpUsd">--</p></article>
      </div>
    </section>

    <!-- 📊 LIVE CHART -->
    <section id="charts" class="page">
      <h2>Live Candlestick Chart</h2>
      <div id="tvChart" class="chart-box" aria-label="TradingView chart"></div>
    </section>

    <!-- 🌐 MACRO EVENTS -->
    <section id="macro" class="page">
      <h2>Macro Events &amp; Metrics</h2>
      <table class="macro-table">
        <thead><tr><th>Pair</th><th>Vol.</th><th>Δ</th><th>Event</th></tr></thead>
        <tbody>
          <tr><td>EUR/USD</td><td>8.2 %</td><td class="down">-0.75 %</td><td>ECB Rate Decision</td></tr>
          <tr><td>USD/JPY</td><td>7.8 %</td><td class="up">+2.1 %</td><td>BoJ Press Conf.</td></tr>
          <tr><td>GBP/USD</td><td>5.9 %</td><td class="down">-0.25 %</td><td>UK Inflation Data</td></tr>
        </tbody>
      </table>
    </section>

    <!-- 🧪 BACK-TESTER (placeholder) -->
    <section id="backtester" class="page"><h2>Strategy Back-tester (coming soon)</h2></section>

    <!-- 💼 PORTFOLIO (placeholder) -->
    <section id="portfolio" class="page"><h2>Simulated Portfolio (coming soon)</h2></section>

    <!-- ⚠️ RISK TOOLS (placeholder) -->
    <section id="risk" class="page"><h2>Risk Management Tools (coming soon)</h2></section>

    <!-- 🗺️ HEAT-MAP (placeholder) -->
    <section id="heatmap" class="page"><h2>Geopolitical Heat-map (coming soon)</h2></section>

    <!-- 📅 WEEKLY OUTLOOK (placeholder) -->
    <section id="weekly" class="page"><h2>AI Weekly Outlook (coming soon)</h2></section>

    <!-- 🔄 TRADE SIMULATOR -->
    <section id="ai" class="page trade-sim">
      <div class="trade-sim-header">
        <h2>Trade Simulator</h2>
        <label class="toggle">
          <input type="checkbox" id="aiToggle">
          <span class="slider"></span><span class="label-text">AI Assist</span>
        </label>
      </div>

      <form id="simForm" class="sim-form">
        <label>Currency Pair:<select id="pair">
          <option>EUR/USD</option><option>USD/JPY</option><option>GBP/USD</option></select></label>
        <label>Trade Size (Units):<input type="number" id="size" placeholder="10 000" required></label>
        <label>Entry Price:<input type="number" id="entry" step="0.0001" required></label>
        <label>Exit Price:<input type="number" id="exit" step="0.0001" required></label>
        <button type="submit">Simulate Trade</button>
      </form>
      <div id="simResult" class="sim-result">Results will appear here.</div>
    </section>

    <!-- ⚙️ SETTINGS -->
    <section id="settings" class="page settings">
      <h2>Settings</h2>
      <label class="toggle">
        <input type="checkbox" id="matrixToggle">
        <span class="slider"></span><span class="label-text">Matrix Theme</span>
      </label>
      <label class="toggle">
        <input type="checkbox" id="blurToggle">
        <span class="slider"></span><span class="label-text">Blur Screen</span>
      </label>
    </section>

  </main>

  <!-- Mobile bottom bar -->
  <nav class="bottom-bar">
    <button data-page="rates"><i data-feather="smartphone"></i></button>
    <button data-page="charts"><i data-feather="bar-chart-2"></i></button>
    <button data-page="ai"><i data-feather="cpu"></i></button>
  </nav>
</div>

<!-- ───────── Scripts ───────── -->
<script>
  feather.replace();

  /* — Navigation logic — */
  const pages   = document.querySelectorAll('.page');
  const navBtns = document.querySelectorAll('[data-page]');
  const sidebar = document.getElementById('sidebar');

  function show(id){
    pages.forEach(p=>p.classList.toggle('active',p.id===id));
    navBtns.forEach(b=>b.classList.toggle('active',b.dataset.page===id));
    if (innerWidth<768) sidebar.classList.remove('open');
  }
  navBtns.forEach(b=>b.onclick=()=>show(b.dataset.page));
  show('rates');                             // default

  /* — Hamburger (mobile) — */  document.getElementById('hamburger').onclick=
    ()=>sidebar.classList.toggle('open');

  /* — Matrix + Blur toggles — */
  matrixToggle.onchange=e=>document.body.classList.toggle('matrix',e.target.checked);
  blurToggle  .onchange=e=>document.body.classList.toggle('blurred',e.target.checked);

  /* — Fetch live rates — */
  fetch('https://api.exchangerate.host/latest?base=USD')
    .then(r=>r.json()).then(d=>{
      eurUsd.textContent=(1/d.rates.EUR).toFixed(4);
      usdJpy.textContent=d.rates.JPY.toFixed(2);
      gbpUsd.textContent=(1/d.rates.GBP).toFixed(4);
    });

  /* — Trade-simulator logic — */
  simForm.onsubmit=e=>{
    e.preventDefault();
    const [size,entry,exit] = [+sizeEl.value,+entryEl.value,+exitEl.value];
    const pl = (((exit-entry)*10000)*size/10000).toFixed(2);
    const ai = aiToggle.checked ? '🚀 AI suggests trailing stop after +20 pips.' : '';
    simResult.innerHTML = `<strong>${pair.value}</strong><br>
      P/L: <span style="color:${pl>=0?'lime':'salmon'}">${pl} USD</span><br>${ai}`;
  };
</script>
</body>
</html>
